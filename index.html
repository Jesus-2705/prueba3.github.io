<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Espermatogénesis AR</title>
  <link rel="stylesheet" href="style.css">
  <!-- A-Frame y AR.js -->
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/fcor/arjs-gestures@master/gesture-detector.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/fcor/arjs-gestures@master/gesture-handler.js"></script>
  <style>
    body {
      background-color:  #192338;
      color: #000;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: auto; 
      text-align: center;
    }

    .titulo-con-imagenes {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      margin-bottom: 20px;
    }

    .titulo-con-imagenes img {
      width: 120px;
      height: auto;
      border-radius: 12px;
    }

    h1 { font-size: 2.2em; color: #000; margin: 10px 0; }
    h2, h3 { margin: 5px 0; color: #000; }

    #info {
      max-width: 800px;
      width: 90%;
      background: #8fb3e2;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }

    p { font-size: 1em; text-align: justify; margin: 10px 0; color: #000; }

    button {
      background-color: #8fb3e2;
      color: #000;
      border: none;
      padding: 12px 25px;
      font-size: 1.1em;
      font-weight: bold;
      border-radius: 25px;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      margin-top: 20px;
    }

    button:hover {
      background-color: #2980b9;
      transform: scale(1.05);
    }

    #ar-container {
      width: 100%;
      height: 500px;
      display: none;
    }

    #exit-ar {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      padding: 12px 18px;
      background-color: rgba(0, 0, 0, 0.65);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1em;
      cursor: pointer;
      backdrop-filter: blur(5px);
      display: none;
      align-items: center;
      gap: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    #exit-ar:hover {
      background-color: rgba(255, 0, 0, 0.7);
      transform: scale(1.05);
    }

    #exit-ar svg { width: 18px; height: 18px; fill: white; }
  </style>
</head>
<body>

  <div id="info">
      <h1>Espermatogénesis</h1>
  <div class="titulo-con-imagenes">
    <img src="imagenes/Logoembrio.jpeg" alt="Logo Embrio">
    </div>
    <h2>Museo de Embriología</h2>
    <h3>Universidad Autónoma de Chihuahua</h3>
    <p>La embriología es el estudio del desarrollo de un embrión desde la fecundación del óvulo hasta la octava semana de gestación. Este campo científico es fundamental para comprender cómo se forman los organismos y las estructuras celulares básicas que dan origen a la vida.</p>
    <p>Con esta aplicación usted podrá obtener una experiencia de realidad aumentada donde podrá ver modelos 3D animados de la espermatogénesis. Simplemente inicie la cámara y apunte al marcador Hiro para visualizar el contenido.</p
    <button id="start-ar">Iniciar AR</button>
  </div>
  <!--MENÚ DE HAMBURGUESITA-->
  <div class="hamburger-menu">
      <input id="menu__ham" type="checkbox" />
      <label class="menu__btn" for="menu__ham" >
        <span></span>
      </label>
  
      <ul class="menu__box">
        <li><a class="menu__item" href="#" id="redsem-btn">Túbulos seminiferos</a></li>
        <li><a class="menu__item" href="#" id="recorrido-btn">Recorrido del espermatozoide</a></li>
        <li><a class="menu__item" href="#" id="espergen-btn">Espermatogénesis</a></li>
        <li><a class="menu__item" href="#" id="epididimo-btn">Epidídimo</a></li>
      </ul>
    </div>
  <button id="exit-ar">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M18.3 5.71a1 1 0 0 0-1.42 0L12 10.59 7.11 5.7a1 1 0 0 0-1.42 1.42L10.59 12l-4.9 4.89a1 1 0 0 0 1.42 1.42L12 13.41l4.89 4.9a1 1 0 0 0 1.42-1.42L13.41 12l4.89-4.89a1 1 0 0 0 0-1.4z"/>
    </svg>
    Salir
  </button>

  <div id="ar-container"></div>

  <script>
    const info = document.getElementById('info');
    const arContainer = document.getElementById('ar-container');
    const startBtn = document.getElementById('start-ar');
    const exitBtn = document.getElementById('exit-ar');

    startBtn.addEventListener('click', () => {
      info.style.display = 'none';
      arContainer.style.display = 'block';
      exitBtn.style.display = 'flex';

      const scene = document.createElement('a-scene');
      scene.setAttribute('embedded', '');
      scene.setAttribute('arjs', 'sourceType: webcam; debugUIEnabled: false;');
      scene.setAttribute('gesture-detector', '');

      const marker = document.createElement('a-marker');
      marker.setAttribute('type', 'pattern');
      marker.setAttribute('url', 'markers/pattern-marcaT.patt');

      const model = document.createElement('a-entity');
      model.setAttribute('gltf-model', 'models/embriologia/Testiculofinal (2).glb');
      model.setAttribute('scale', '0.05 0.05 0.05');
      model.setAttribute('rotation', '-90 0 0');
      model.setAttribute('position', '0 0 0');
      model.setAttribute('gesture-handler', '');

      marker.appendChild(model);
      scene.appendChild(marker);

      const marker2 = document.createElement('a-marker');
      marker2.setAttribute('type', 'pattern');
      marker2.setAttribute('url', 'markers/pattern-marcaCreeper.patt');
      
      const model2 = document.createElement('a-entity');
      model2.setAttribute('gltf-model', 'models/embriologia/ARM3.glb');
      model2.setAttribute('scale', '0.1 0.1 0.1');
      model2.setAttribute('rotation', '-90 0 0');
      model2.setAttribute('gesture-handler', '');
      
      marker2.appendChild(model2);
      scene.appendChild(marker2);

      const marker3 = document.createElement('a-marker');
      marker3.setAttribute('type', 'pattern');
      marker3.setAttribute('url', 'markers/pattern-marcaEs.patt');
      
      const model3 = document.createElement('a-entity');
      model3.setAttribute('gltf-model', 'models/embriologia/Espermatogenesis5.glb');
      model3.setAttribute('scale', '0.1 0.1 0.1');
      model3.setAttribute('rotation', '-90 0 0');
      model3.setAttribute('gesture-handler', '');
      
      marker3.appendChild(model3);
      scene.appendChild(marker3);

      const camera = document.createElement('a-entity');
      camera.setAttribute('camera', '');
      scene.appendChild(camera);

      arContainer.innerHTML = '';
      arContainer.appendChild(scene);
    });

    exitBtn.addEventListener('click', () => {
      arContainer.style.display = 'none';
      arContainer.innerHTML = '';
      info.style.display = 'block';
      exitBtn.style.display = 'none';

      const video = document.querySelector('video');
      if (video && video.srcObject) {
        video.srcObject.getTracks().forEach(track => track.stop());
        video.srcObject = null;
      }
    });
  </script>

</body>
</html>



